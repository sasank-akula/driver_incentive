sap.ui.define(["com/cy/driverincentiveui/controller/BaseController","sap/ui/export/Spreadsheet","sap/ui/export/library","sap/ui/model/Filter","sap/ui/model/FilterOperator"],(e,t,r,i,n)=>{"use strict";const o=r.EdmType;return e.extend("com.cy.driverincentiveui.controller.Home",{onInit(){debugger;this.getModel().bindContext("/userdetails()").requestObject().then(function(e){console.log("Function result:",e)}).catch(function(e){console.error("Function call failed",e)})},onSearch:function(){var e=this;var t=this.byId("filterbar");var r=t.getAllFilterItems();var o=[];r.forEach(t=>{var r=t.getName();var a=t.getControl().getValue();if(a){if(r==="date"){var l=a.split(" - ");var s=l[0];var p=l[1];var u=new Date(s);var c=new Date(p);var d=e.formatDate(u);var b=e.formatDate(c);var v=new i(r,n.BT,d,b);o.push(v)}else{var y=new i(r,"Contains",a);o.push(y)}}});var a=this.byId("idIncentiveTable");var l=a.getBinding("items");l.filter(o)},formatDate:function(e){var t=""+(e.getMonth()+1);var r=""+e.getDate();var i=e.getFullYear();if(t.length<2)t="0"+t;if(r.length<2)r="0"+r;return[i,t,r].join("-")},onExport:function(){if(!this._oTable){this._oTable=this.byId("idIncentiveTable")}const e=this._oTable;const r=e.getBinding("items");const i=this.createColumnConfig();const n={workbook:{columns:i,hierarchyLevel:"Level"},dataSource:r,fileName:"Table export sample.xlsx",worker:false};const o=new t(n);o.build().finally(function(){o.destroy()})},createColumnConfig:function(){const e=[];e.push({property:"ID",label:"ID",type:o.String});e.push({property:"date",label:"Date",type:o.String});e.push({property:"brand",label:"Brand",type:o.String});e.push({property:"locationCode",label:"Location Code",type:o.String});e.push({property:"location",label:"Location",type:o.String});e.push({property:"driver",label:"Driver",type:o.String});e.push({property:"incentive",label:"Incentive",type:o.Number,scale:2,delimiter:true});e.push({property:"orderCount",label:"Order Count",type:o.Number,scale:0});e.push({property:"gsCount",label:"GS Count",type:o.Number,scale:0});e.push({property:"eligibility",label:"Eligibility",type:o.String});return e}})});
//# sourceMappingURL=Home.controller.js.map