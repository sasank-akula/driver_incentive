sap.ui.define(["com/cy/driverincentiveui/controller/BaseController","sap/ui/export/Spreadsheet","sap/ui/export/library","sap/ui/model/Filter","sap/ui/model/FilterOperator"],(e,t,r,i,a)=>{"use strict";const n=r.EdmType;return e.extend("com.cy.driverincentiveui.controller.Home",{onInit(){},onSearch:function(){var e=this;var t=this.byId("filterbar");var r=t.getAllFilterItems();var n=[];r.forEach(t=>{var r=t.getName();var o=t.getControl().getValue();if(o){if(r==="date"){var l=o.split(" - ");var p=l[0];var s=l[1];var u=new Date(p);var c=new Date(s);var v=e.formatDate(u);var y=e.formatDate(c);var b=new i(r,a.BT,v,y);n.push(b)}else{var d=new i(r,"Contains",o);n.push(d)}}});var o=this.byId("idIncentiveTable");var l=o.getBinding("items");l.filter(n)},formatDate:function(e){var t=""+(e.getMonth()+1);var r=""+e.getDate();var i=e.getFullYear();if(t.length<2)t="0"+t;if(r.length<2)r="0"+r;return[i,t,r].join("-")},onExport:function(){if(!this._oTable){this._oTable=this.byId("idIncentiveTable")}const e=this._oTable;const r=e.getBinding("items");const i=this.createColumnConfig();const a={workbook:{columns:i,hierarchyLevel:"Level"},dataSource:r,fileName:"Table export sample.xlsx",worker:false};const n=new t(a);n.build().finally(function(){n.destroy()})},createColumnConfig:function(){const e=[];e.push({property:"ID",label:"ID",type:n.String});e.push({property:"date",label:"Date",type:n.String});e.push({property:"brand",label:"Brand",type:n.String});e.push({property:"locationCode",label:"Location Code",type:n.String});e.push({property:"location",label:"Location",type:n.String});e.push({property:"driver",label:"Driver",type:n.String});e.push({property:"incentive",label:"Incentive",type:n.Number,scale:2,delimiter:true});e.push({property:"orderCount",label:"Order Count",type:n.Number,scale:0});e.push({property:"gsCount",label:"GS Count",type:n.Number,scale:0});e.push({property:"eligibility",label:"Eligibility",type:n.String});return e}})});
//# sourceMappingURL=Home.controller.js.map